{% extends 'base.html' %}
{% set is_edit = dados.id %}
{% set form_title = 'Editar Equipamento' if is_edit else 'Novo Cadastro de Equipamento' %}
{% set titulo=form_title %}

{% block conteudo %}
<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">{{ form_title }}</h6>
    </div>
    <div class="card-body">
        <form method="post" action="{{ url_for('equipamentos.atualizar', id=dados.id) if is_edit else url_for('equipamentos.criar') }}">
            
            <h5 class="mb-3 mt-4">Dados do Colaborador</h5>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="nome" class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="nome" name="nome" value="{{ dados.get('nome', '') }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="cpf" class="form-label">CPF</label>
                    <input type="text" class="form-control" id="cpf" name="cpf" value="{{ dados.get('cpf', '') }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="cargo" class="form-label">Cargo</label>
                    <input type="text" class="form-control" id="cargo" name="cargo" value="{{ dados.get('cargo', '') }}">
                </div>
            </div>
            <div class="row">
                <div class="col-md-4"><label class="form-label">Filial</label>{% from 'macros.html' import select_filiais %}{{ select_filiais('filial', dados.filial) }}</div>
                <div class="col-md-3 mb-3">
                    <label for="cc" class="form-label">Centro de Custo (CC)</label>
                    <input type="text" class="form-control" id="cc" name="cc" value="{{ dados.get('cc', '') }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="descricao_cc" class="form-label">Descrição CC</label>
                    <input type="text" class="form-control" id="descricao_cc" name="descricao_cc" value="{{ dados.get('descricao_cc', '') }}">
                </div>
            </div>

            <hr class="my-4">
            <h5 class="mb-3">Dados do Equipamento</h5>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="tipo" class="form-label">Tipo (Ex: Notebook, Celular)</label>
                    <input type="text" class="form-control" id="tipo" name="tipo" value="{{ dados.get('tipo', '') }}">
                </div>
                <div class="col-md-3 mb-3">
                    <label for="marca" class="form-label">Marca</label>
                    <input type="text" class="form-control" id="marca" name="marca" value="{{ dados.get('marca', '') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="modelo" class="form-label">Modelo</label>
                    <input type="text" class="form-control" id="modelo" name="modelo" value="{{ dados.get('modelo', '') }}">
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="numero_serie" class="form-label">Número de Série</label>
                    <input type="text" class="form-control" id="numero_serie" name="numero_serie" value="{{ dados.get('numero_serie', '') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="patrimonio" class="form-label">Patrimônio</label>
                    <input type="text" class="form-control" id="patrimonio" name="patrimonio" value="{{ dados.get('patrimonio', '') }}">
                </div>
            </div>
            <div class="mb-3">
                <label for="acessorios" class="form-label">Acessórios (separados por vírgula)</label>
                <input type="text" class="form-control" id="acessorios" name="acessorios" value="{{ dados.get('acessorios', '') }}">
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="anc" class="form-label">ANC</label>
                    <input type="text" class="form-control" id="anc" name="anc" value="{{ dados.get('anc', '') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="termo_assinado" class="form-label">Termo Assinado</label>
                    <input type="text" class="form-control" id="termo_assinado" name="termo_assinado" value="{{ dados.get('termo_assinado', '') }}">
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary">Salvar</button>
            <a href="{{ url_for('equipamentos.listar') }}" class="btn btn-secondary">Cancelar</a>
        </form>
    </div>
</div>
{% endblock %}